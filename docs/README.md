### 게임 설명

위아래 둘 중 하나의 칸만 건널 수 있는 다리를 끝까지 건너가는 게임이다.

---

### 게임 진행 순서 (Controller)

1. 게임 시작
2. 다리 게임 시작 안내 문구 출력
3. 다리 길이 입력
    1. 다리 길이 입력 안내 문구 출력
    2. 다리 길이 입력
    3. 다리 길이 전달
4. 이동할 칸 입력
    1. 이동할 칸 입력 안내 문구 출력
    2. 이동할 칸 입력
    3. 사용자 이동
5. 진행 상황 출력
6. 실패 여부 판단
    1. 실패
        1. 재시도 여부 입력 안내 문구 출력
        2. 재시도 여부 입력
            1. 재시도 : 4번 이동
            2. 종료 : 8번 이동
7. 종료 여부 판단
    1. 종료 : 9번 이동
    2. continue : 4번 이동
8. 결과 출력
    1. 최종 게임 결과 UI
    2. 게임 성공 여부
    3. 총 시도 횟수

---

### 게임 규칙

- 다리는 왼쪽에서 오른쪽으로 건너야 한다.
- 위아래 둘 중 하나의 칸만 건널 수 있다.
- 다리를 끝까지 건너면 게임이 종료된다.
    - 재시작해도 처음에 만든 다리로 재사용한다.
- 다리를 건너다 실패하면 게임을 재시작하거나 종료할 수 있다.
- 게임이 종료되면 결과를 출력한다.
    - 게임 결과의 총 시도한 횟수는 첫 시도를 포함해 게임을 종료할 때까지 시도한 횟수를 나타낸다.

### 게임 행동

- 다리의 길이를 숫자로 입력받고 생성한다.
- 게임 진행상황을 출력한다.
    - 이동한 칸을 건널 수 있다면 O로 표시한다. 건널 수 없다면 X로 표시한다.

### 다리 생성기

- 다리를 생성할 때 위 칸과 아래 칸 중 건널 수 있는 칸은 0과 1 중 무작위 값을 이용해서 정한다.
    - 무작위 값이 0인 경우 아래 칸, 1인 경우 위 칸이 건널 수 있는 칸이 된다.
    - 다리는 U 또는 D로 나타낸다.
        - 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타낸다.

### 플레이어

- (다리가 생성되면) 플레이어가 이동할 칸을 선택한다.
- 이동할 때 위 칸은 대문자 U, 아래 칸은 대문자 D를 입력한다.

### 다리

- 다리는 U 또는 D로 나타낸다.
    - 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타낸다.

### 예외

- 사용자가 잘못된 값을 입력할 경우 : `IllegalArgumentException`를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
    - `Exception`이 아닌 경우 : `IllegalArgumentException`,`IllegalStateException`등과 같은 명확한 유형을 처리한다.

### 진행상황

- 
---

### 입력

- 자동으로 생성할 다리 길이를 입력 받는다. 3 이상 20 이하의 숫자를 입력할 수 있으며 올바른 값이 아니면 예외 처리한다.
- 라운드마다 플레이어가 이동할 칸을 입력 받는다. U(위 칸)와 D(아래 칸) 중 하나의 문자를 입력할 수 있으며 올바른 값이 아니면 예외 처리한다.
- 게임 재시작/종료 여부를 입력 받는다. R(재시작)과 Q(종료) 중 하나의 문자를 입력할 수 있으며 올바른 값이 아니면 예외 처리한다.

### 출력

- 게임 시작 문구

`다리 건너기 게임을 시작합니다.`

- 게임 종료 문구
```
최종 게임 결과
[ O |   |   ]
[   | O | O ]

게임 성공 여부: 성공
총 시도한 횟수: 2
```

- 사용자가 이동할 때마다 다리 건너기 결과의 출력 형식은 실행 결과 예시를 참고한다.
    - 이동할 수 있는 칸을 선택한 경우 O 표시
    - 이동할 수 없는 칸을 선택한 경우 X 표시
    - 선택하지 않은 칸은 공백 한 칸으로 표시
    - 다리의 시작은`[`, 다리의 끝은`]`으로 표시
    - 다리 칸의 구분은`|`(앞뒤 공백 포함) 문자열로 구분
    - 현재까지 건넌 다리를 모두 출력
- 예외 상황 시 에러 문구를 출력해야 한다. 단, 에러 문구는 "[ERROR]"로 시작해야 한다.

`[ERROR] 다리 길이는 3부터 20 사이의 숫자여야 합니다.`

---

### 다리 생성기 - BridgeMaker

[요구사항]
- `BridgeMaker`의 필드(인스턴스 변수)를 변경할 수 없다.
- `BridgeMaker`의 메서드의 시그니처(인자, 이름)와 반환 타입은 변경할 수 없다.
```java
public class BridgeMaker {

    public List<String> makeBridge(int size) {
        return null;
    }
}
```

- 다리를 생성할 때 위 칸과 아래 칸 중 건널 수 있는 칸은 0과 1 중 무작위 값을 이용해서 정한다.
    - 무작위 값이 0인 경우 아래 칸, 1인 경우 위 칸이 건널 수 있는 칸이 된다.
    - 다리는 U 또는 D로 나타낸다.
        - 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타낸다.
---
설계
### 클래스

### 게임 규칙 - BridgeGame

[상태]

- [x] 플레이어 객체를 갖는다. (mutable)
- [x] 다리 객체를 갖는다. (immutable)
- [x] 진행상황 객체를 갖는다. (mutable)

[행동]

- [x] 다리를 생성한다.
- [x] 사용자를 이동시킨다.
- [x] 진행상황을 업데이트한다.
  - [x] 사용자가 이동한 Side가 이동할 수 있는 Side인지 확인한다.
    - [x] 이동할 수 있는 위치라면 게임이 종료되었는지 확인한다.
      - [x] 종료되었다면 SUCCESS를, 아니라면 CONTINUE를 progressBoard에 넘겨준다.
    - [x] 이동할 수 없는 위치라면 FAIL을 넘겨준다.
- 결과를 반환한다.

[요구사항]

- 제공된`BridgeGame`클래스를 활용해 구현해야 한다.
- `BridgeGame`에 필드(인스턴스 변수)를 추가할 수 있다.
- `BridgeGame`의 패키지는 변경할 수 있다.
- `BridgeGame`의 메서드의 이름은 변경할 수 없고, 인자와 반환 타입은 필요에 따라 추가하거나 변경할 수 있다.
- 게임 진행을 위해 필요한 메서드를 추가 하거나 변경할 수 있다.

```java
public class BridgeGame {

    public void move() {
    }

    public void retry() {
    }
}
```

### 진행 상황 저장 객체 - ProgressBoard
[상태]
- 진행상황 Map을 갖는다.
- [x] 시도 횟수를 갖는다.
- [x] 성공/실패/진행중 상태를 갖는다.

[행동]
- 진행상황 객체를 반환해주는 역할을 한다.
- 진행 상황을 업데이트 한다.
  - [x] 실패한 경우 실패로 업데이트한다.
  - [x] 성공한 경우 성공을 업데이트한다.
  - [x] 진행상황 Map을 업데이트한다.

### 게임 진행 관리 컨트롤러 - BridgeController

### 사용자 - Player

[상태]

- [x] 현재 위치를 갖는다.
- [x] 마지막으로 이동한 Side를 갖는다.

[행동]

- [x] 사용자의 위치를 이동시킨다.
  - [x] 사용자 마지막 위치를 업데이트한다.
- [x] 사용자 마지막 이동 Side를 반환한다.
- [x] 사용자 현재 위치를 반환한다.

### 다리 생성기 - BridgeMaker

[요구사항]

- `BridgeMaker`의 필드(인스턴스 변수)를 변경할 수 없다.
- `BridgeMaker`의 메서드의 시그니처(인자, 이름)와 반환 타입은 변경할 수 없다.

```java
public class BridgeMaker {

    public List<String> makeBridge(int size) {
        return null;
    }
}
```

- [x] 다리를 생성할 때 위 칸과 아래 칸 중 건널 수 있는 칸은 0과 1 중 무작위 값을 이용해서 정한다.
    - [x] 무작위 값이 0인 경우 아래 칸, 1인 경우 위 칸이 건널 수 있는 칸이 된다.
    - [x] 다리는 U 또는 D로 나타낸다.
        - [x] 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타낸다.

### 다리 - Bridge

- [x] 다리는 U 또는 D로 나타낸다.
    - [x] 위 칸을 건널 수 있는 경우 U, 아래 칸을 건널 수 있는 경우 D값으로 나타낸다.

### 다리 UI - BridgeMap

---
### 게임 진행 순서 (Controller)

1. 게임 시작
2. 다리 게임 시작 안내 문구 출력 `BridgeController`
3. 다리 길이 입력 `InputView`
    1. 다리 길이 입력 안내 문구 출력 `OutputView`
    2. 다리 길이 입력 `InputView`
        1. 다리 길이 유효성 검사 `InputView`
    3. 다리 길이 입력 예외 발생 시 3번으로 회귀 `BridgeGame`
    4. 다리 생성 `BridgeMaker`
4. 이동할 칸 입력 `BridgeController`
    1. 이동할 칸 입력 안내 문구 출력 `OutputView`
    2. 이동할 칸 입력 `InputView`
        1. 이동할 칸 입력 유효성 검사 `InputView`
    3. 이동할 칸 입력 예외 발생 시 4번으로 회귀 `BridgeController`
    4. 사용자 위치 이동 (`BridgeGame`, `Player`)
5. 진행 상황 출력 (`View`)
    - 다리 UI 출력
6. 실패 여부 판단 (`BridgeGame`) - `ProgressBoard`
    1. 실패했다면
        1. 재시도 여부 입력 안내 문구 출력
        2. 재시도 여부 입력 - `Controller`
        3. 재시도 유효성 검사
            1. 재시도 유효성검사 실패 시 6번으로 이동
        4. 재시도 : 4번 이동
        5. 종료 : 8번 이동
7. 종료 여부 판단 - `Controller`
    1. 종료 : 9번 이동
    2. continue : 4번 이동
8. 결과 출력
    1. 최종 게임 결과 UI
    2. 게임 성공 여부
    3. 총 시도 횟수